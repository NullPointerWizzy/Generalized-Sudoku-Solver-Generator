CFLAGS = -std=c11 -Wall -Wextra -g -O2
CPPFLAGS = -I../include -DDEBUG
LDFLAGS = -lm

all: sudoku

sudoku: sudoku.o colors.o grid.o
	$(CC) $(CFLAGS) -o $@ $^  $(LDFLAGS)

sudoku.o: sudoku.c sudoku.h 
	$(CC)  $(CFLAGS) $(CPPFLAGS) -c $<

colors.o: colors.c ../include/colors.h  
	$(CC) $(CFLAGS) $(CPPFLAGS) -c $<

grid.o: grid.c ../include/grid.h 
	$(CC) $(CFLAGS) $(CPPFLAGS) -c $<

clean:
	@rm -f *.o sudoku 

help:
	@echo "Usage:"
	@echo "  make [all] Build the software"
	@echo "  make clean Remove all files generated by make"
	@echo "  make help Dislpay this help "

.PHONY: all clean help
