CFLAGS = -std=c11 -Wall -Wextra -g -O0
CPPFLAGS = -I../include -DDEBUG
LDFLAGS = -lm

all: colors_tests grid_tests

colors_tests: colors_tests.o ../src/colors.o
	$(CC) $(CFLAGS) -o $@ $^ $(LDFLAGS)

grid_tests: grid_tests.o ../src/grid.o ../src/colors.o
	$(CC) $(CFLAGS) -o $@ $^ $(LDFLAGS)

colors_tests.o: module_tests/colors_tests.c ../include/colors.h 
	$(CC) $(CFLAGS) $(CPPFLAGS) -c $<

grid_tests.o: module_tests/grid_tests.c ../include/grid.h ../include/colors.h
	$(CC) $(CFLAGS) $(CPPFLAGS) -c $<

clean:
	@rm -f *.o colors_tests grid_tests

help:
	@echo "Usage:"
	@echo " make [all]  Build the test executables"
	@echo " make report Builds a pdf version of the report"
	@echo " make clean 	Remove all files generated by make"
	@echo " make help 	Display this help"

.PHONY: all clean help